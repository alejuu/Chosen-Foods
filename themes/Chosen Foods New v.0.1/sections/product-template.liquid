<script type="text/javascript">
  window.product = {{ product | json }} || {};
</script>
{% assign variant = product.selected_or_first_available_variant %}
{% if section.blocks.size > 0 %}
  {% for block in section.blocks %}
    {% if block.type == "hero" %}
      {% include 'product-hero', type: 'block' %}
    {% elsif block.type == "product_details" %}
      {% include 'product-details', type: 'block' %}
    {% elsif block.type == "recipes" %}
      {% include 'related-posts', type: 'block' %}
    {% elsif block.type == "related" %}
      {% include 'related-products', type: 'block' %}
    {% endif %}
  {% endfor %}
{% endif %}

{% schema %}
{
  "name": "Product",
  "class": "product",
  "max_blocks": 20,
  "blocks": [
    {
      "type": "hero",
      "name": "Hero"
    },
    {
      "type": "product_details",
      "name": "Product Details"
    },
    {
      "type": "recipes",
      "name": "Our Favorite Recipes"
    },
    {
      "type": "related",
      "name": "Similar Products"
    }
  ]
}
{% endschema %}
