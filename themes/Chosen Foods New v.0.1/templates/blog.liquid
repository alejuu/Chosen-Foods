<main class="blog-page">
  <section class="hero is-page">
    <div class="hero-body">
      <div class="content has-text-centered">
        <h1 class="title is-1 is-size-5-mobile has-text-centered has-text-primary is-marginless">{{ blog.title }}</h1>
      </div>
    </div>
  </section>
  <section class="section">
    {% paginate blog.articles by 10 %}
      <div class="columns is-multiline">
        {% for article in blog.articles %}
          <div class="columnn is-full-width is-paddingless post">
            <div class="columns is-padingless">
              <div class="column is-half is-paddingless">
                <div class="card">
                  <div class="card-image">
                    <figure class="image is-4by3">
                      <a href="{{ article.handle }}">
                        <img src="{{ article.image.src | img_url: 'large' }}" alt="{{ article.image.alt }}">
                      </a>
                    </figure>
                  </div>
                </div>
              </div>
              <div class="column is-half is-paddingless">
                <div class="card">
                  <div class="card-content">
                    <div class="media">
                      <div class="media-content has-text-centered">
                        <p class="title is-4">{{ article.title }}</p>
                        <p>
                          <span class="subtitle is-6">{{ article.author }}</span><span> | </span><time class="subtitle is-6" datetime="{{ article.created_at | date: "%a, %b %d, %y" }}">{{ article.created_at | date: "%a, %b %d, %y" }}</time>
                        </p>
                      </div>
                    </div>
                    <div class="content has-text-centered">
                      <p>
                        {{ article.excerpt_or_content | strip_html | truncate: 140 }}
                      </p>
                      {% for tag in article.tags %}
                        <span class="is-size-7 is-italic">| {{ tag }} |</span>
                      {% endfor %}
                    </div>
                    <div class="content has-text-centered">
                      <a href="{{ article.handle }}" class="button is-small is-rounded is-link is-outlined is-uppercase has-text-centered">Read More</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
      {% if paginate.pages > 1 %}
        <hr>
        <nav class="pagination is-centered" role="navigation" aria-label="pagination">
          {% if paginate.previous.is_link %}
            <a href="{{ paginate.previous.url }}" class="pagination-previous">
              <span class="icon">
                <i class="cf-icon-left-arrow-16"></i>
              </span>
            </a>
          {% endif %}
          {% if paginate.next.is_link %}
            <a href="{{ paginate.next.url }}" class="pagination-next">
              <span class="icon">
                <i class="cf-icon-right-arrow-16"></i>
              </span>
            </a>
          {% endif %}
          <ul class="pagination-list">
            {% assign count = paginate.pages %}
            {% for part in (1..count) %}
              <li class="{% if paginate.current_page != part %}is-hidden{% endif %}"><a href="{{ blog.url }}?page={{ forloop.index }}" class="pagination-link {% if paginate.current_page == part %}is-current{% endif %}" aria-label="Goto page {{ forloop.index }}" {% if paginate.current_page == part %}aria-current="page" pagination-current="page"{% endif %}>{{ forloop.index }}</a></li>
            {% endfor %}
          </ul>
        </nav>
      {% endif %}
    {% endpaginate %}
  </section>
</main>
